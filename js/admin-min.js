(function(a){a(document).ready(function(){if(document.getElementById("sim_configure")){a("#sim_previewtoggle").click(function(g){g.preventDefault();var j,i,h,f=a(this).attr("data-current");j=new Image();i=f==="small"?"data-src-large":"data-src-small";h=f==="small"?"large":"small";j.src=a(this).attr(i);a(this).attr("data-current",h);a("#sim_previewimage").attr("src",j.src)});a("#dialog-message").dialog({autoOpen:false,dialogClass:"mwe_noclose",modal:true,width:420,buttons:{Ok:function(){a(this).dialog("close")}}});a("#mwe_help").click(function(f){f.preventDefault();a("#dialog-message").dialog("open")});var b=document.getElementById("sim_previewimage"),d=a('input[name="cur"]:checked')[0].value;b.setAttribute("class",d);if(typeof simdata==="undefined"||simdata==="null"||simdata.length<1){alert("Sorry - No lens data.\n\nDeactivating/Reactivating plugin may fix this problem.");return true}if(!simdata.hasOwnProperty("lensdata")||!simdata.hasOwnProperty("datakey")){console.log("lens-cpt.js: Missing simdata property - lensdata or datakey");return true}a(".sim_input").change(function(){c(b,this)});a(".no_enter_key").keypress(function(g){var f=g.which||g.keyCode;if(f==13){g.preventDefault();c(b,g.target)}});function c(e,f){switch(f.name){case"hgt":case"wdh":if(parseInt(f.value)>150){f.value="150"}break;case"crd":if(parseInt(f.value)>50){f.value="50"}break}simdata.lensdata[simdata.datakey][f.name]=f.value}}})})(jQuery);